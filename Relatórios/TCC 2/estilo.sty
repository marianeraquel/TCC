% Modelo da Raquel - Este modelo foi baseado em: modelo-ufpr.tex,v 1.1 2003/06/30 

% <mariane.raquel@ymail.com>

\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{estilo}
\RequirePackage[brazil]{babel}
\RequirePackage{fancyhdr}
\RequirePackage{listings}
\RequirePackage{multirow}
\RequirePackage{array}

%% ----- INÍCIO -----

\makeatletter

%% Altera o tamanho das fontes dos capítulos para Large e Negrito
\renewcommand{\ABNTchaptersize}{\LARGE}
\renewcommand{\ABNTchapterfont}{\bfseries}
%% É possível colocar a fonte em small caps nos capítulos e no sumário
%\renewcommand{\ABNTchapterfont}{\scshape\bfseries}
%\renewcommand{\ABNTtocchapterfont}{\scshape\bfseries}


%% Altera o tamanho das fontes section para large
\renewcommand\section{\ABNTstartsection{section}{1}{\z@}%
{3.5ex \@plus -1ex \@minus -.2ex} {3.3ex \@plus.2ex}%
{\espaco{simples}\normalfont  \ABNTsectionfont\large}}


%% Altera o tamanho das fontes subsection para normalize
%\renewcommand\subsection{\ABNTstartsection{subsection}{2}{\z@}%
%                           {-3.25ex\@plus -1ex \@minus -.2ex}%
%                           {1.5ex \@plus .2ex}%
%                           {\espaco{simples}\normalfont%
%                            \ABNTsectionfont\normalsize}}
 
                            
%% Não coloca subsubsection no sumario
\setcounter{secnumdepth}{2}
\setcounter{tocdepth}{2}


%% Altera o tamanho do parágrafo
\setlength{\parindent}{1.5cm}


%% Cabeçalhos das páginas
\setlength{\headheight}{15pt}
\fancypagestyle{ruledheader}{% 
\fancyhf{} % clear all header and footer fields 
\fancyhead[RO]{\footnotesize \rightmark} 
\fancyfoot[C]{\thepage}
}


%% Cabeçalhos dos capítulos
\fancypagestyle{plainheader}{% 
\fancyhf{} % clear all header and footer fields 
\fancyfoot[C]{\thepage}
\renewcommand{\headrulewidth}{0pt}
}

%% Melhor espaçamento na bibliografia
\let\oldbibliography\thebibliography
\renewcommand{\thebibliography}[1]{%
  \oldbibliography{#1}%
%  \setlength{\itemsep}{10pt}%
\onehalfspacing
}

%% Tabelas com melhor espaçamento
\renewcommand{\arraystretch}{1.5}
\setlength\tabcolsep{5pt}


%% Itens criados para atender às minhas necessidades %%

%% Listas com menor espaçamento
\newenvironment{packed_enum}{
\begin{itemize}
  \setlength{\itemsep}{1.5pt}
  \setlength{\parskip}{0pt}
  \setlength{\parsep}{0pt}
}{\end{itemize}}


%% Listas numeradas com menor espaçamento
\newenvironment{num_enum}{
\begin{enumerate}
  \setlength{\itemsep}{1.5pt}
  \setlength{\parskip}{0pt}
  \setlength{\parsep}{0pt}
}{\end{enumerate}}



%% Novo ambiente de tabela
% {defaultTable}{COLUNAS}{CAPTION}{LINHAS}
\newenvironment{defaultTable}[3] { 
	\begin{table}[h]
	\centering
	\begin{footnotesize}
	\begin{tabular}{#1} %{\textwidth}
	\hline 
	\rowstyle{\bfseries}%
	#2
	\end{tabular}
	\end{footnotesize}
	\caption{#3}
} 
{ \end{table} }

%% Colunas com definição de largura

% Coluna centralizada bold
\newcolumntype{N}[1]{>{\global\let\currentrowstyle\relax\centering\arraybackslash\bf}m{#1}}

% Coluna centralizada regular
\newcolumntype{C}[1]{>{\currentrowstyle\centering\arraybackslash}m{#1}}

%% Colunas sem definição de Largura

% Coluna centralizada bold
\newcolumntype{B}{>{\global\let\currentrowstyle\relax\bf}c}

% Coluna centralizada regular (n colunas). Uso: R{n} onde n é o número de colunas
\newcolumntype{R}[1]{|*{#1}{>{\currentrowstyle}c|}}
\newcolumntype{T}{>{\currentrowstyle}c|}
\newcommand{\rowstyle}[1]{\gdef\currentrowstyle{#1} #1\ignorespaces }

%% Foram incluídos nos comandos acima para fazerem a primeira linha bold.
% Colunas bold são + 
% Colunas regulares são ^
%\newcolumntype{+}{>{\global\let\currentrowstyle\relax}}
%\newcolumntype{^}{>{\currentrowstyle}}


%% Para códigos com algorithm2

% Geral
\SetAlFnt{\footnotesize\tt}

% Tipo letra do título "Algorithm", "Function", etc
\SetAlCapFnt{\small}
%\newcommand{\myalgsty}[1]{\textbf{\small #1}}\SetAlCapSty{myalgsty}

% Tipo letra conteúdo caption
\SetAlCapNameFnt{\small}
%\newcommand{\mycapsty}[1]{\textit{\small #1}}\SetAlCapNameSty{mycapsty}

% Nomes de Funções
\SetFuncSty{texttt}

% Tipo letra Keyword
%\SetKwSty{text}
\newcommand{\mykwsty}[1]{\texttt{\textbf{#1}}}\SetKwSty{mykwsty}

\SetAlgorithmName{Algoritmo}


% Para códigos com listings
%\renewcommand{\lstlistingname}{Código}
 \lstset{
         basicstyle=\footnotesize\ttfamily, % Standardschrift
         %numbers=left,               % Ort der Zeilennummern
         numberstyle=\tiny,          % Stil der Zeilennummern
         numbersep=10pt,              % Abstand der Nummern zum Text
         tabsize=2,                  % Groesse von Tabs
         extendedchars=true,         %
         breaklines=true,            % Zeilen werden Umgebrochen
   		 frame=tb,         
         stringstyle=\color{white}\ttfamily, % Farbe der String
         showspaces=false,           % Leerzeichen anzeigen ?
         showtabs=false,             % Tabs anzeigen ?
         xleftmargin=17pt,
         framexleftmargin=17pt,
         framexrightmargin=5pt,
         framexbottommargin=4pt,
         showstringspaces=false,      % Leerzeichen in Strings anzeigen ?        
 }

%% Alterações na abntex

%% Alterar a marcação de capítulos da ABNT para diminuir o espaçamento nos títulos de capítulo

%\def\@makechapterhead#1{%
%  {\normalfont\ABNTchaptersize\ABNTchapterfont%
%   \vspace*{0.5cm} \noindent%
%   \parbox[b]{\textwidth}{\parbox[t]{4ex}{\thechapter}%
%      \parbox[t]{\textwidth-4ex-1ex} {\interlinepenalty\@M\raggedright%
%        \ifthenelse{\boolean{ABNTcapchap}} {\MakeUppercase{#1}} {#1}} \vspace*{0cm}
%   }\\[2pt] \vspace{10pt}}}



%% Altera forma de montagem do table of contents: menor espaçamento

\renewcommand\l@chapter[2]{
\espaco{simples} % adicionado para diminuir espaço no sumário
  \ifnum \c@tocdepth >\m@ne
    \addpenalty{-\@highpenalty}%
    \vskip 1.0em \@plus\p@
    \setlength\@tempdima{1.5em}%
    \begingroup
      \ifthenelse{\boolean{ABNTpagenumstyle}}
        {\renewcommand{\@pnumwidth}{3.5em}}
        {}
      \parindent \z@ \rightskip \@pnumwidth
      \parfillskip -\@pnumwidth
      \leavevmode \normalsize\ABNTtocchapterfont
      \advance\leftskip\@tempdima
      \hskip -\leftskip
      #1\nobreak\hfill \nobreak%
      \ifthenelse{\boolean{ABNTpagenumstyle}}
         {%
          \hb@xt@\@pnumwidth{\hss
            \ifthenelse{\not\equal{#2}{}}{{\normalfont p.\thinspace#2}}{}}\par
         }
         {%
          \hb@xt@\@pnumwidth{\hss #2}\par
         }
      \penalty\@highpenalty
    \endgroup
  \fi}
  

% Cria um comando auxiliar para montagem da lista de figuras
\newcommand{\figfillnum}[1]{%
  \espaco{simples}
  {\normalfont\dotfill}\nobreak
  \hb@xt@\@pnumwidth{\hfil\normalfont #1}{}\par}

% Cria um comando auxiliar para montagem da lista de tabelas
\newcommand{\tabfillnum}[1]{%
	\espaco{simples}
	{\normalfont\dotfill}\nobreak
	\hb@xt@\@pnumwidth{\hfil\normalfont #1}{}\par}

% Altera a forma de montagem da lista de figuras
\renewcommand*{\l@figure}[2]{
	\leftskip 3.1em
	\rightskip 1.6em
	\parfillskip -\rightskip
	\parindent 0em
	\@tempdima 2.0em
	\advance\leftskip \@tempdima \null\nobreak\hskip -\leftskip
	{Figura \normalfont #1}\nobreak \figfillnum{#2}}

% Altera a forma de montagem de lista de tabelas
\renewcommand*{\l@table}[2]{
	\leftskip 3.4em
	\rightskip 1.6em
	\parfillskip -\rightskip
	\parindent 0em
	\@tempdima 2.0em
	\advance\leftskip \@tempdima \null\nobreak\hskip -\leftskip
	{Tabela \normalfont #1}\nobreak \tabfillnum{#2}}



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%                   Pre-textual elements                   %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% CAPA - contem instituição, autor, titulo, local e data.
%
% FOLHA DE ROSTO - contem: instituição, autor, titulo, comentário, orientador, local e ano da apresentacao.

\renewcommand{\instituicaoformat}{\normalfont}
\renewcommand{\orientador}[2][Orientadora: ]%
  {\renewcommand{\ABNTorientadorname}{#1}%
   \renewcommand{\ABNTorientadordata}{#2}}
\renewcommand{\orientadorformat}{\normalfont}
\renewcommand{\tituloformat}{\Large\scshape\bfseries}
\renewcommand{\autorformat}{\normalfont\bfseries}

\providecommand{\IncluiComentario}{}
\newcommand{\folhaRosto}[1]{\renewcommand{\IncluiComentario}{#1}}

\providecommand{\TCClogo}{}
\newcommand{\logo}[1]{\renewcommand{\TCClogo}{#1}}

\renewcommand{\capa}
{%
\begin{titlepage}

% Instituição
\begin{center}
\begin{minipage}{0.25\textwidth}
\includegraphics[scale=0.7]{\TCClogo}
\end{minipage} \hfill
\begin{minipage}{0.7\textwidth}
\begin{center}
	\instituicaoformat\ABNTinstituicaodata\par
\end{center} 
\end{minipage} 
\end{center} 

% Autor
\vspace{1.5cm}
\begin{center}
    \autorformat\ABNTautordata
\end{center}

% Título
\vspace{3.5cm} 
\begin{center}
     \tituloformat\ABNTtitulodata\par
\end{center}

% Comentário

\vspace{1cm}
  \ABNTifnotempty{\IncluiComentario}%
  {%
  \hspace{.45\textwidth}
     \begin{minipage}{.5\textwidth}
       \begin{espacosimples}
         {\comentarioformat\ABNTcomentariodata}\par
       \end{espacosimples}
     \end{minipage}
  }
\vspace{1cm}

% Orientador
\vfill
\begin{center}
   \orientadornameformat\ABNTorientadorname
   {\orientadorformat\ABNTorientadordata}
\end{center}

% Data
\vspace{1cm}
   \begin{center}
	\localformat\ABNTlocaldata\par
	\dataformat\ABNTdatadata
\end{center}

\end{titlepage}
}% end of \capa      

\renewcommand{\folhaderosto}
{
	\folhaRosto{sim}
	\capa
}

%% -----  FIM  ------     
\makeatother

